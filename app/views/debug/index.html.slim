doctype html
html
  head
    title æœ¬ç•ªç’°å¢ƒãƒ‡ãƒãƒƒã‚°æƒ…å ±
    style
      | body { font-family: monospace; line-height: 1.6; margin: 20px; background: #f5f5f5; }
        .container { max-width: 1200px; margin: 0 auto; background: white; padding: 20px; border-radius: 8px; box-shadow: 0 2px 4px rgba(0,0,0,0.1); }
        h1, h2, h3 { color: #333; border-bottom: 2px solid #007bff; padding-bottom: 5px; }
        .info-section { margin: 20px 0; padding: 15px; background: #f8f9fa; border-left: 4px solid #007bff; }
        .error { background: #ffe6e6; border-left-color: #dc3545; }
        .warning { background: #fff3cd; border-left-color: #ffc107; }
        .success { background: #e6ffe6; border-left-color: #28a745; }
        table { width: 100%; border-collapse: collapse; margin: 10px 0; }
        th, td { padding: 8px; border: 1px solid #ddd; text-align: left; }
        th { background: #007bff; color: white; }
        .code { background: #f4f4f4; padding: 10px; border-radius: 4px; overflow-x: auto; }
        .timestamp { color: #666; font-size: 0.9em; }

  body
    .container
      h1 ğŸ” æœ¬ç•ªç’°å¢ƒãƒ‡ãƒãƒƒã‚°æƒ…å ±
      p.timestamp ç”Ÿæˆæ—¥æ™‚: #{@debug_info[:timestamp]}

      // ç’°å¢ƒæƒ…å ±
      .info-section
        h2 ğŸ“Š ç’°å¢ƒæƒ…å ±
        table
          tr
            th é …ç›®
            th å€¤
          tr
            td ç’°å¢ƒ
            td
              strong= @debug_info[:environment]
          tr
            td Ruby ãƒãƒ¼ã‚¸ãƒ§ãƒ³
            td= @debug_info[:ruby_version]
          tr
            td Rails ãƒãƒ¼ã‚¸ãƒ§ãƒ³
            td= @debug_info[:rails_version]
          tr
            td ã‚³ãƒ¼ãƒ‰ãƒãƒ¼ã‚¸ãƒ§ãƒ³
            td= @debug_info[:code_version]

      // ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æƒ…å ±
      .info-section
        h2 ğŸ—„ï¸ ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æƒ…å ±
        table
          tr
            th é …ç›®
            th å€¤
          tr
            td ã‚¢ãƒ€ãƒ—ã‚¿ãƒ¼
            td= @database_info[:adapter]
          tr
            td ç·Regionæ•°
            td= @database_info[:total_regions]
          tr
            td ç·Voteæ•°
            td= @database_info[:total_votes]

      // å…¨Regionãƒ¬ã‚³ãƒ¼ãƒ‰
      .info-section
        h2 ğŸ“ å…¨Regionãƒ¬ã‚³ãƒ¼ãƒ‰
        table
          tr
            th ID
            th çœŒå
            th å‘³ä»˜ã‘
            th è‚‰
            th ç‰¹å¾´
          - @all_regions.each do |region|
            tr
              td= region[:id]
              td= region[:name]
              td= region[:seasoning]
              td= region[:meat]
              td= region[:feature]

      // é‡è¤‡ãƒã‚§ãƒƒã‚¯
      .info-section class=(@duplicate_check.any? { |item| item[:count] > 1 } ? "warning" : "success")
        h2 âš ï¸ é‡è¤‡ãƒã‚§ãƒƒã‚¯
        table
          tr
            th çœŒå
            th ä»¶æ•°
            th ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹
          - @duplicate_check.each do |item|
            tr
              td= item[:name]
              td= item[:count]
              td= item[:status]

      // Step2ãƒ­ã‚¸ãƒƒã‚¯ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³
      .info-section
        h2 ğŸ”„ Step2ãƒ­ã‚¸ãƒƒã‚¯ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³
        - @step2_simulation.each do |seasoning, data|
          h3 #{seasoning}é¸æŠæ™‚
          p
            strong ãƒ­ã‚¸ãƒƒã‚¯ã‚¿ã‚¤ãƒ—:
            = " #{data[:logic_type]}"
          p
            strong DBå–å¾—çµæœ:
            = " #{data[:raw_meats].inspect}"
          .code
            strong å‡¦ç†è©³ç´°:
            br
            - data[:processing_details].each do |detail|
              = detail
              br
          p
            strong æœ€çµ‚çµæœ:
            span style="background: #e6ffe6; padding: 2px 5px;"= data[:final_meats].inspect

      // Respectãƒšãƒ¼ã‚¸ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³
      .info-section
        h2 ğŸ“‹ Respectãƒšãƒ¼ã‚¸ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³
        .code
          strong å‡¦ç†è©³ç´°:
          br
          - @respect_simulation[:processing_details].each do |detail|
            = detail
            br
        h3 æœ€çµ‚è¡¨ç¤ºãƒ‡ãƒ¼ã‚¿
        table
          tr
            th çœŒå
            th å‘³ä»˜ã‘
            th è‚‰
            th ç‰¹å¾´
          - @respect_simulation[:final_regions].each do |region|
            tr
              td= region[:name]
              td= region[:seasoning]
              td= region[:meat]
              td= region[:feature]

      // SQLãƒ†ã‚¹ãƒˆ
      .info-section class=(@sql_test[:status].include?("é‡è¤‡") ? "warning" : (@sql_test[:status].include?("ã‚¨ãƒ©ãƒ¼") ? "error" : "success"))
        h2 ğŸ” SQLã‚¯ã‚¨ãƒªãƒ†ã‚¹ãƒˆ
        p
          strong ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹:
          = " #{@sql_test[:status]}"
        - if @sql_test[:duplicates] && @sql_test[:duplicates].any?
          strong æ¤œå‡ºã•ã‚ŒãŸé‡è¤‡:
          ul
            - @sql_test[:duplicates].each do |duplicate|
              li= duplicate
        - if @sql_test[:error]
          p
            strong ã‚¨ãƒ©ãƒ¼:
            = " #{@sql_test[:error]}"

      // ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³
      div style="margin-top: 30px; text-align: center;"
        a href="/" style="background: #007bff; color: white; padding: 10px 20px; text-decoration: none; border-radius: 4px;" ãƒ›ãƒ¼ãƒ ã«æˆ»ã‚‹
        a href="/questions/respect" style="background: #28a745; color: white; padding: 10px 20px; text-decoration: none; border-radius: 4px; margin-left: 10px;" èŠ‹ç…®ãƒªã‚¹ãƒšã‚¯ãƒˆãƒšãƒ¼ã‚¸
